<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>مدارس جيل النهضة الحديثة - نظام النتائج الإلكتروني</title>
  <meta name="description" content="مدارس جيل النهضة الحديثة - النتائج الإلكترونية للطلاب، محصلات شهرية، نتائج نصف العام وآخر العام. نظام نتائج إلكتروني آمن وسريع.">
  <meta name="keywords" content="مدارس جيل النهضة الحديثة, نتائج الطلاب, نتائج مدرسية, نظام نتائج, جيل النهضة, التعليم اليمني, نتائج الامتحانات">
  <meta name="author" content="مدارس جيل النهضة الحديثة">
  <meta name="robots" content="index, follow">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <!-- Open Graph -->
  <meta property="og:title" content="مدارس جيل النهضة الحديثة - نظام النتائج الإلكتروني">
  <meta property="og:description" content="النتائج الإلكترونية للطلاب - محصلات شهرية ونتائج نصف العام وآخر العام">
  <meta property="og:site_name" content="مدارس جيل النهضة الحديثة">
  <meta property="og:url" content="https://ameen-algmady.github.io/alnhdah/">
  <meta property="og:type" content="website">
  <meta property="og:locale" content="ar_YE">
  
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="مدارس جيل النهضة الحديثة - نظام النتائج الإلكتروني">
  <meta name="twitter:description" content="النتائج الإلكترونية للطلاب - محصلات شهرية ونتائج نصف العام وآخر العام">
  
  <!-- البيانات المنظمة Schema.org -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "EducationalOrganization",
    "name": "مدارس جيل النهضة الحديثة",
    "alternateName": "جيل النهضة",
    "description": "مدارس جيل النهضة الحديثة - نظام النتائج الإلكتروني للطلاب",
    "url": "https://ameen-algmady.github.io/alnhdah/",
    "logo": "https://ameen-algmady.github.io/alnhdah/logo.png",
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "صنعاء",
      "addressCountry": "اليمن"
    },
    "contactPoint": {
      "@type": "ContactPoint",
      "contactType": "دعم الطلاب وأولياء الأمور",
      "telephone": "+967-1-123456",
      "email": "info@jeel-alnahdah.edu.ye"
    },
    "foundingDate": "2010"
  }
  </script>
  
  <link rel="manifest" href="/alnhdah/manifest.json">
  <link rel="icon" href="favicon.ico">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.rtl.min.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

  <!-- OneSignal SDK -->
  <script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
  <script>
      window.OneSignalDeferred = window.OneSignalDeferred || [];
      OneSignalDeferred.push(function(OneSignal) {
          OneSignal.init({
              appId: "adbcf77b-5fb0-4c24-b23c-25f052b00853",
              serviceWorkerPath: "/OneSignalSDKWorker.js",
              serviceWorkerUpdaterPath: "/OneSignalSDKUpdaterWorker.js"
          });
      });
  </script>

  <style>
    :root {
      --primary-color: #1a237e;
      --secondary-color: #4CAF50;
      --accent-color: #2196F3;
      --warning-color: #FF9800;
      --success-color: #2E7D32;
      --light-bg: #f8f9fa;
      --dark-text: #333;
      --shadow: 0 4px 12px rgba(0,0,0,0.1);
      --gradient: linear-gradient(135deg, #1a237e, #283593);
      --jeel-gradient: linear-gradient(135deg, #1a237e, #283593);
    }
    
    body {
      font-family: 'Tahoma', 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #f9f9f9 0%, #e8f4f8 100%);
      color: var(--dark-text);
      line-height: 1.6;
      padding-top: 70px;
    }
    
    /* تحسين الشريط العلوي */
    .navbar {
      background: var(--jeel-gradient) !important;
      box-shadow: var(--shadow);
      padding: 12px 0;
      border-bottom: 3px solid #4CAF50;
      position: fixed;
      top: 0;
      width: 100%;
      z-index: 1000;
    }
    
    .navbar-brand {
      font-weight: bold;
      font-size: 1.4rem;
      color: white !important;
    }
    
    .navbar-brand i {
      color: #4CAF50;
    }
    
    .nav-link {
      font-weight: 500;
      margin: 0 8px;
      transition: all 0.3s ease;
      border-radius: 25px;
      padding: 8px 16px !important;
      color: white !important;
    }
    
    .nav-link:hover {
      background: rgba(255,255,255,0.2);
      transform: translateY(-2px);
      color: #4CAF50 !important;
    }
    
    .nav-link i {
      margin-left: 5px;
    }
    
    /* تحسين الرأس */
    header {
      background: var(--jeel-gradient);
      color: white;
      padding: 80px 20px 40px;
      border-radius: 0 0 40px 40px;
      box-shadow: var(--shadow);
      margin-bottom: 40px;
      position: relative;
      overflow: hidden;
    }
    
    header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 5px;
      background: linear-gradient(90deg, #4CAF50, #2196F3, #4CAF50);
    }
    
    header h1 {
      font-weight: bold;
      font-size: 2.5rem;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
      color: white;
      margin-bottom: 15px;
    }
    
    header .lead {
      font-size: 1.3rem;
      opacity: 0.95;
      max-width: 800px;
      margin: 0 auto;
    }
    
    header img {
      height: 120px;
      border-radius: 20px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.3);
      border: 4px solid white;
      background: white;
      padding: 5px;
    }
    
    /* تحسين الأقسام */
    section {
      padding: 60px 20px;
      margin: 40px auto;
      max-width: 1200px;
      background: white;
      border-radius: 25px;
      box-shadow: var(--shadow);
      border: 1px solid rgba(0,0,0,0.05);
      position: relative;
    }
    
    section::before {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      width: 100px;
      height: 100px;
      background: linear-gradient(135deg, transparent 50%, var(--primary-color) 50%);
      border-radius: 0 25px 0 0;
    }
    
    section h2 {
      color: var(--primary-color);
      font-weight: bold;
      margin-bottom: 30px;
      text-align: center;
      font-size: 2.2rem;
      position: relative;
      padding-bottom: 20px;
    }
    
    section h2::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      height: 5px;
      background: var(--secondary-color);
      border-radius: 3px;
    }
    
    section h2 i {
      color: var(--accent-color);
      margin-left: 10px;
    }
    
    /* تحسين الأزرار */
    .btn {
      border-radius: 25px;
      padding: 14px 28px;
      font-weight: 600;
      transition: all 0.3s ease;
      border: none;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      font-size: 1.1rem;
    }
    
    .btn-primary {
      background: var(--jeel-gradient);
      border: 2px solid transparent;
    }
    
    .btn-primary:hover {
      background: white;
      color: var(--primary-color) !important;
      border: 2px solid var(--primary-color);
      transform: translateY(-5px);
    }
    
    .btn-warning {
      background: linear-gradient(135deg, #ff9800, #ff5722);
      color: white;
    }
    
    .btn-danger {
      background: linear-gradient(135deg, #f44336, #d32f2f);
      color: white;
    }
    
    .btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.2);
    }
    
    /* تحسين شبكة الصفوف */
    .row-cols-2 .col {
      margin-bottom: 20px;
      transition: transform 0.3s ease;
    }
    
    .row-cols-2 .col:hover {
      transform: translateY(-5px);
    }
    
    .row-cols-2 .btn {
      width: 100%;
      padding: 18px;
      font-size: 1.1rem;
      border-radius: 15px;
      text-align: center;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    /* قسم عن المدرسة */
    #about {
      background: linear-gradient(135deg, #f8f9fa, #e3f2fd);
      border-left: 8px solid var(--secondary-color);
      border-right: 8px solid var(--accent-color);
    }
    
    #about .col-md-4 {
      text-align: center;
      padding: 30px 20px;
      background: white;
      border-radius: 20px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
      margin-bottom: 30px;
      border: 2px solid transparent;
    }
    
    #about .col-md-4:hover {
      transform: translateY(-10px);
      border-color: var(--secondary-color);
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }
    
    #about h4 {
      color: var(--primary-color);
      margin: 20px 0;
      font-weight: bold;
      font-size: 1.4rem;
    }
    
    #about .col-md-4 i {
      font-size: 2.5rem;
      color: var(--accent-color);
      background: linear-gradient(135deg, #e3f2fd, #bbdefb);
      width: 80px;
      height: 80px;
      line-height: 80px;
      border-radius: 50%;
      margin: 0 auto 20px;
      display: block;
    }
    
    /* قسم الرؤية والرسالة */
    .vision-box, .mission-box {
      background: white;
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.08);
      height: 100%;
      border-top: 5px solid #4CAF50;
      transition: all 0.3s ease;
    }
    
    .mission-box {
      border-top: 5px solid #2196F3;
    }
    
    .vision-box:hover, .mission-box:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }
    
    .vision-box h3, .mission-box h3 {
      color: var(--primary-color);
      margin-bottom: 20px;
      text-align: center;
      font-weight: bold;
    }
    
    /* تحسين الصورة */
    .section-img img {
      max-width: 100%;
      height: auto;
      border-radius: 25px;
      box-shadow: 0 12px 35px rgba(0,0,0,0.2);
      border: 5px solid white;
      transform: perspective(1000px) rotateY(-5deg);
      transition: all 0.5s ease;
    }
    
    .section-img img:hover {
      transform: perspective(1000px) rotateY(0deg);
      box-shadow: 0 20px 40px rgba(0,0,0,0.25);
    }
    
    /* تحسين القوانين */
    #rulesContent {
      background: linear-gradient(135deg, #fff3e0, #ffecb3);
      padding: 35px;
      border-radius: 20px;
      border-right: 6px solid var(--accent-color);
      border-left: 6px solid var(--secondary-color);
    }
    
    #rulesContent ul {
      list-style: none;
      padding: 0;
    }
    
    #rulesContent li {
      padding: 15px 0 15px 40px;
      border-bottom: 2px dashed #ddd;
      font-size: 1.1rem;
      position: relative;
      transition: all 0.3s ease;
    }
    
    #rulesContent li:hover {
      background: rgba(255,255,255,0.5);
      padding-right: 10px;
    }
    
    #rulesContent li::before {
      content: '✓';
      position: absolute;
      right: 0;
      color: var(--secondary-color);
      font-weight: bold;
      font-size: 1.3rem;
    }
    
    #rulesContent li:last-child {
      border-bottom: none;
    }
    
    /* تحسين الخريطة */
    .ratio-16x9 {
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
      border: 3px solid var(--primary-color);
    }
    
    /* تحسين زر الإشعارات */
    #notifyBtn {
      position: fixed;
      top: 90px;
      left: 20px;
      z-index: 9999;
      background: linear-gradient(135deg, #ffc107, #ff9800);
      color: white;
      border: none;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      font-size: 24px;
      box-shadow: 0 6px 20px rgba(255,193,7,0.5);
      cursor: pointer;
      transition: all 0.3s ease;
      display: none;
    }
    
    #notifyBtn:hover {
      transform: scale(1.15) rotate(15deg);
      box-shadow: 0 10px 30px rgba(255,193,7,0.7);
    }
    
    /* زر التثبيت الرئيسي المحسن */
    #installBtn {
      position: fixed;
      top: 90px;
      right: 20px;
      z-index: 10000;
      background: linear-gradient(135deg, #4CAF50, #2E7D32);
      color: white;
      border: none;
      border-radius: 30px;
      padding: 15px 25px;
      font-size: 16px;
      font-weight: bold;
      box-shadow: 0 6px 20px rgba(76, 175, 80, 0.5);
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 10px;
      transition: all 0.3s ease;
      animation: installPulse 2s infinite;
      display: none;
      backdrop-filter: blur(10px);
      border: 2px solid white;
    }
    
    #installBtn:hover {
      transform: translateY(-5px) scale(1.05);
      box-shadow: 0 10px 30px rgba(76, 175, 80, 0.7);
      background: linear-gradient(135deg, #2E7D32, #1B5E20);
    }
    
    #installBtn i {
      font-size: 18px;
      animation: downloadIcon 1.5s infinite;
    }
    
    @keyframes installPulse {
      0% { 
        box-shadow: 0 6px 20px rgba(76, 175, 80, 0.5); 
        transform: scale(1);
      }
      50% { 
        box-shadow: 0 6px 30px rgba(76, 175, 80, 0.8); 
        transform: scale(1.03);
      }
      100% { 
        box-shadow: 0 6px 20px rgba(76, 175, 80, 0.5); 
        transform: scale(1);
      }
    }
    
    @keyframes downloadIcon {
      0% { transform: translateY(0); }
      50% { transform: translateY(-3px); }
      100% { transform: translateY(0); }
    }
    
    /* زر تحميل ثانوي دائري */
    #secondaryInstallBtn {
      position: fixed;
      bottom: 30px;
      right: 30px;
      z-index: 9999;
      background: linear-gradient(135deg, #FF9800, #F57C00);
      color: white;
      border: none;
      border-radius: 50%;
      width: 70px;
      height: 70px;
      font-size: 28px;
      box-shadow: 0 8px 25px rgba(255,152,0,0.5);
      cursor: pointer;
      display: none;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      animation: float 3s ease-in-out infinite;
    }
    
    #secondaryInstallBtn:hover {
      transform: scale(1.1) rotate(15deg);
      box-shadow: 0 12px 35px rgba(255,152,0,0.7);
      background: linear-gradient(135deg, #F57C00, #EF6C00);
    }
    
    @keyframes float {
      0% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
      100% { transform: translateY(0); }
    }
    
    /* شريط التثبيت العلوي المحسن */
    #installBanner {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: linear-gradient(135deg, rgba(33, 150, 243, 0.95), rgba(13, 71, 161, 0.95));
      color: white;
      padding: 15px 20px;
      text-align: center;
      z-index: 9998;
      box-shadow: 0 4px 20px rgba(0,0,0,0.3);
      display: none;
      backdrop-filter: blur(10px);
      animation: slideDown 0.5s ease-out;
    }
    
    @keyframes slideDown {
      from { transform: translateY(-100%); }
      to { transform: translateY(0); }
    }
    
    #installBannerContent {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 15px;
      flex-wrap: wrap;
    }
    
    #installBanner span {
      font-size: 16px;
      font-weight: 500;
    }
    
    #installBanner i {
      font-size: 20px;
      color: #4CAF50;
      animation: bellRing 2s infinite;
    }
    
    @keyframes bellRing {
      0% { transform: rotate(0); }
      5% { transform: rotate(15deg); }
      10% { transform: rotate(-15deg); }
      15% { transform: rotate(15deg); }
      20% { transform: rotate(0); }
      100% { transform: rotate(0); }
    }
    
    #installBannerBtn {
      background: white;
      color: #2196F3;
      border: none;
      border-radius: 25px;
      padding: 10px 25px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    #installBannerBtn:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 20px rgba(0,0,0,0.2);
      background: #f8f9fa;
    }
    
    #closeBanner {
      background: rgba(255,255,255,0.2);
      color: white;
      border: none;
      border-radius: 50%;
      width: 35px;
      height: 35px;
      font-size: 18px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 10px;
    }
    
    #closeBanner:hover {
      background: rgba(255,255,255,0.3);
      transform: rotate(90deg);
    }
    
    /* إشعار التثبيت العائم */
    #installNotification {
      position: fixed;
      bottom: 120px;
      right: 30px;
      background: white;
      border-radius: 20px;
      box-shadow: 0 15px 40px rgba(0,0,0,0.2);
      padding: 25px;
      z-index: 10001;
      display: none;
      max-width: 380px;
      border-left: 6px solid #4CAF50;
      animation: slideIn 0.5s ease-out;
      border: 1px solid #e0e0e0;
    }
    
    @keyframes slideIn {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    
    @keyframes slideOut {
      from { transform: translateX(0); opacity: 1; }
      to { transform: translateX(100%); opacity: 0; }
    }
    
    .install-notification-content {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    
    .install-notification-content h4 {
      color: #1a237e;
      margin: 0;
      font-size: 20px;
      font-weight: bold;
    }
    
    .install-notification-content p {
      color: #666;
      margin: 0;
      font-size: 15px;
      line-height: 1.5;
    }
    
    .install-notification-buttons {
      display: flex;
      gap: 10px;
      justify-content: flex-end;
      margin-top: 10px;
    }
    
    .install-notification-buttons button {
      padding: 10px 25px;
      border-radius: 25px;
      border: none;
      cursor: pointer;
      font-weight: 600;
      font-size: 14px;
      transition: all 0.3s ease;
    }
    
    #installNowBtn {
      background: linear-gradient(135deg, #4CAF50, #2E7D32);
      color: white;
    }
    
    #installNowBtn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
    }
    
    #installLaterBtn {
      background: #f5f5f5;
      color: #666;
      border: 1px solid #ddd;
    }
    
    #installLaterBtn:hover {
      background: #e0e0e0;
      transform: translateY(-2px);
    }
    
    /* الفوتر */
    footer {
      background: var(--jeel-gradient);
      color: white;
      padding: 40px 20px;
      text-align: center;
      margin-top: 60px;
      border-radius: 40px 40px 0 0;
      position: relative;
      overflow: hidden;
    }
    
    footer::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 5px;
      background: linear-gradient(90deg, #4CAF50, #2196F3, #4CAF50);
    }
    
    footer p {
      margin: 10px 0;
      opacity: 0.95;
      font-size: 1.1rem;
    }
    
    .footer-contact {
      display: flex;
      justify-content: center;
      gap: 30px;
      margin-top: 20px;
      flex-wrap: wrap;
    }
    
    .contact-item {
      display: flex;
      align-items: center;
      gap: 10px;
      background: rgba(255,255,255,0.1);
      padding: 10px 20px;
      border-radius: 25px;
      transition: all 0.3s ease;
    }
    
    .contact-item:hover {
      background: rgba(255,255,255,0.2);
      transform: translateY(-3px);
    }
    
    /* تحسينات للهواتف */
    @media (max-width: 768px) {
      body {
        padding-top: 60px;
      }
      
      header {
        padding: 70px 15px 30px;
        border-radius: 0 0 30px 30px;
      }
      
      header h1 {
        font-size: 2rem;
      }
      
      header .lead {
        font-size: 1.1rem;
      }
      
      header img {
        height: 90px;
        margin-top: 20px;
      }
      
      section {
        padding: 40px 15px;
        margin: 30px 10px;
        border-radius: 20px;
      }
      
      section h2 {
        font-size: 1.8rem;
      }
      
      .btn {
        padding: 12px 20px;
        font-size: 1rem;
      }
      
      .row-cols-2 .btn {
        padding: 15px;
        font-size: 1rem;
      }
      
      #notifyBtn {
        width: 50px;
        height: 50px;
        font-size: 20px;
        top: 80px;
        left: 10px;
      }
      
      #installBtn {
        width: auto;
        padding: 12px 20px;
        font-size: 14px;
        top: 80px;
        right: 10px;
      }
      
      #secondaryInstallBtn {
        width: 60px;
        height: 60px;
        font-size: 24px;
        bottom: 20px;
        right: 20px;
      }
      
      #installNotification {
        max-width: 320px;
        bottom: 100px;
        right: 20px;
        padding: 20px;
      }
      
      .navbar-brand {
        font-size: 1.2rem;
      }
      
      #about .col-md-4 {
        margin-bottom: 20px;
      }
      
      .footer-contact {
        flex-direction: column;
        gap: 15px;
        align-items: center;
      }
      
      .section-img img {
        transform: none;
      }
      
      .section-img img:hover {
        transform: scale(1.02);
      }
    }
    
    @media (max-width: 480px) {
      .row-cols-2 {
        grid-template-columns: 1fr !important;
      }
      
      header h1 {
        font-size: 1.6rem;
      }
      
      header .lead {
        font-size: 1rem;
      }
      
      section h2 {
        font-size: 1.5rem;
      }
      
      #installBtn {
        padding: 10px 15px;
        font-size: 12px;
        top: 70px;
      }
      
      #installNotification {
        max-width: 280px;
        padding: 15px;
      }
      
      .install-notification-buttons {
        flex-direction: column;
      }
    }
    
    /* تأثيرات إضافية */
    .fade-in {
      animation: fadeIn 1s ease-in;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .hover-lift {
      transition: all 0.3s ease;
    }
    
    .hover-lift:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 30px rgba(0,0,0,0.15) !important;
    }
    
    /* شعار متحرك */
    .logo-animation {
      animation: float 3s ease-in-out infinite;
    }
    
    /* قسم الإحصاءات */
    .stats-box {
      background: white;
      padding: 25px;
      border-radius: 20px;
      text-align: center;
      box-shadow: 0 4px 15px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
      border-top: 5px solid var(--accent-color);
    }
    
    .stats-box:hover {
      transform: translateY(-8px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }
    
    .stats-box .number {
      font-size: 2.5rem;
      font-weight: bold;
      color: var(--primary-color);
      display: block;
      margin-bottom: 10px;
    }
    
    .stats-box .label {
      font-size: 1.1rem;
      color: #666;
    }
    
    /* رسائل التنبيه */
    @keyframes slideDownMessage {
      from { transform: translate(-50%, -100%); opacity: 0; }
      to { transform: translate(-50%, 0); opacity: 1; }
    }
    
    @keyframes slideUpMessage {
      from { transform: translate(-50%, 0); opacity: 1; }
      to { transform: translate(-50%, -100%); opacity: 0; }
    }
    
    @keyframes fadeInModal {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    @keyframes scaleInModal {
      from { transform: scale(0.8); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }
    
    /* كروت التنبيهات */
    .alert-card {
      border-right: 5px solid;
      border-radius: 15px;
      margin-bottom: 20px;
    }
    
    .alert-warning {
      border-right-color: #ff9800;
      background: #fff8e1;
    }
    
    .alert-info {
      border-right-color: #2196F3;
      background: #e3f2fd;
    }
    
    /* أنشطة */
    .activity-card {
      transition: all 0.3s ease;
      border: none;
      border-radius: 20px;
      overflow: hidden;
    }
    
    .activity-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 15px 35px rgba(0,0,0,0.1) !important;
    }
    
    .activity-card img {
      height: 200px;
      object-fit: cover;
    }
    
    /* معلومات الاتصال */
    .contact-info-card {
      background: white;
      border-radius: 20px;
      padding: 25px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.08);
      height: 100%;
      border-top: 5px solid var(--accent-color);
    }
    
    .contact-info-card h5 {
      color: var(--primary-color);
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 2px solid #f0f0f0;
    }
    
    .contact-info-card ul {
      list-style: none;
      padding: 0;
    }
    
    .contact-info-card li {
      padding: 10px 0;
      border-bottom: 1px solid #f5f5f5;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .contact-info-card li:last-child {
      border-bottom: none;
    }
    
    .contact-info-card i {
      color: var(--accent-color);
      width: 20px;
    }
  </style>
</head>
<body>

  <!-- زر تفعيل الإشعارات -->
  <button id="notifyBtn" title="تفعيل الإشعارات"><i class="fas fa-bell"></i></button>
  
  <!-- شريط التثبيت العلوي -->
  <div id="installBanner">
    <div id="installBannerContent">
      <i class="fas fa-download"></i>
      <span>تثبيت تطبيق مدارس جيل النهضة الحديثة للوصول السريع</span>
      <button id="installBannerBtn">تثبيت الآن</button>
      <button id="closeBanner">✕</button>
    </div>
  </div>
  
  <!-- زر التثبيت الرئيسي -->
  <button id="installBtn"><i class="fas fa-download"></i> تثبيت التطبيق</button>
  
  <!-- زر تحميل ثانوي دائري -->
  <button id="secondaryInstallBtn" title="تثبيت التطبيق">
    <i class="fas fa-download"></i>
  </button>

  <!-- إشعار التثبيت العائم -->
  <div id="installNotification">
    <div class="install-notification-content">
      <h4><i class="fas fa-rocket me-2"></i>تثبيت التطبيق</h4>
      <p>ثبّت تطبيق مدارس جيل النهضة الحديثة للوصول السريع والاستفادة من جميع المميزات بدون الحاجة للإنترنت.</p>
      <div class="install-notification-buttons">
        <button id="installLaterBtn">لاحقاً</button>
        <button id="installNowBtn">تثبيت الآن</button>
      </div>
    </div>
  </div>

  <!-- شريط التنقل -->
  <nav class="navbar navbar-expand-lg navbar-dark">
    <div class="container">
      <a class="navbar-brand" href="#">
        <i class="fas fa-graduation-cap me-2"></i>مدارس جيل النهضة الحديثة
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="#home"><i class="fas fa-home me-1"></i> الرئيسية</a></li>
          <li class="nav-item"><a class="nav-link" href="#about"><i class="fas fa-info-circle me-1"></i> عن المدرسة</a></li>
          <li class="nav-item"><a class="nav-link" href="#stats"><i class="fas fa-chart-bar me-1"></i> الإحصائيات</a></li>
          <li class="nav-item"><a class="nav-link" href="#results"><i class="fas fa-chart-line me-1"></i> المحصلات والنتائج</a></li>
          <li class="nav-item"><a class="nav-link" href="#absence"><i class="fas fa-user-clock me-1"></i> غياب الطلاب</a></li>
          <li class="nav-item"><a class="nav-link" href="#activities"><i class="fas fa-trophy me-1"></i> الأنشطة الدراسية</a></li>
          <li class="nav-item"><a class="nav-link" href="#rules"><i class="fas fa-gavel me-1"></i> الأنظمة والقوانين</a></li>
          <li class="nav-item"><a class="nav-link" href="#location"><i class="fas fa-map-marker-alt me-1"></i> موقع مدارس النهضة</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- رأس الصفحة -->
  <header class="text-center" id="home">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-md-8">
          <h1 class="fade-in">مدارس جيل النهضة الحديثة</h1>
          <p class="lead mt-3 fade-in">نحو جيل واعي.. مستقبل مشرق</p>
          <p class="fade-in">تميز في التعليم · جودة في المناهج · إبداع في الأساليب</p>
        </div>
        <div class="col-md-4">
          <img src="logo.png" alt="شعار مدارس جيل النهضة الحديثة" class="img-fluid fade-in logo-animation">
        </div>
      </div>
    </div>
  </header>

  <!-- قسم عن المدرسة -->
  <section id="about" class="fade-in">
    <div class="container">
      <h2><i class="fas fa-school me-2"></i>عن مدارس جيل النهضة الحديثة</h2>
      <p class="text-center mb-5 lead">نظام تعليمي متكامل يهدف إلى بناء جيل متميز علميًا وأخلاقيًا</p>
     
      
      <div class="row mt-5">
        <div class="col-md-6">
          <div class="vision-box">
            <h3><i class="fas fa-eye me-2"></i>قيمنا</h3>
            <ul class="list-unstyled">
              <li><i class="fas fa-check text-success me-2"></i> الجودة والتميز في التعليم</li>
              <li><i class="fas fa-check text-success me-2"></i> الالتزام بالقيم الإسلامية</li>
              <li><i class="fas fa-check text-success me-2"></i> الإبداع والابتكار</li>
              <li><i class="fas fa-check text-success me-2"></i> الشفافية والنزاهة</li>
              <li><i class="fas fa-check text-success me-2"></i> العمل بروح الفريق</li>
            </ul>
          </div>
        </div>
        <div class="col-md-6">
          <div class="mission-box">
            <h3><i class="fas fa-bullhorn me-2"></i>مميزاتنا</h3>
            <ul class="list-unstyled">
              <li><i class="fas fa-check text-primary me-2"></i> معلمون مؤهلون ومدربون</li>
              <li><i class="fas fa-check text-primary me-2"></i> فصول دراسية مجهزة بأحدث التقنيات</li>
              <li><i class="fas fa-check text-primary me-2"></i> أنشطة لا صفية متنوعة</li>
              <li><i class="fas fa-check text-primary me-2"></i> متابعة مستمرة للطلاب</li>
              <li><i class="fas fa-check text-primary me-2"></i> بيئة تعليمية آمنة ومحفزة</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- إحصاءات المدرسة -->
  <section id="stats" class="fade-in">
    <div class="container">
      <h2><i class="fas fa-chart-bar me-2"></i>إحصاءات المدارس</h2>
      <p class="text-center mb-5">نفتخر بما حققناه من إنجازات على مدار السنوات</p>
      <div class="row g-4">
        <div class="col-md-3 col-sm-6">
          <div class="stats-box">
            <span class="number">+1200</span>
            <span class="label">طالب وطالبة</span>
          </div>
        </div>
        <div class="col-md-3 col-sm-6">
          <div class="stats-box">
            <span class="number">+80</span>
            <span class="label">معلم ومعلمة</span>
          </div>
        </div>
        <div class="col-md-3 col-sm-6">
          <div class="stats-box">
            <span class="number">8</span>
            <span class="label">سنوات من التميز</span>
          </div>
        </div>
        <div class="col-md-3 col-sm-6">
          <div class="stats-box">
            <span class="number">95%</span>
            <span class="label">نسبة النجاح</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- صورة المدرسة -->
  <section class="section-img text-center fade-in">
    <div class="container">
      <h2><i class="fas fa-images me-2"></i>معرض الصور</h2>
      <p class="text-center mb-4">نظرة على بيئتنا التعليمية المتميزة</p>
      <img src="school.gif" alt="صورة مدارس جيل النهضة الحديثة" class="img-fluid">
    </div>
  </section>

  <!-- المحصلات والنتائج -->
  <section id="results" class="fade-in">
    <div class="container">
      <h2><i class="fas fa-chart-line me-2"></i>المحصلات والنتائج</h2>
      <p class="text-center mb-5">يمكنك الاطلاع على نتائج الطلاب والمحصلة الدراسية من خلال هذا القسم.</p>
      <div class="row row-cols-2 row-cols-md-3 row-cols-lg-4 g-4">
        <div class="col"><a href="results_grade1.html" class="btn btn-primary w-100"><i class="fas fa-book me-2"></i>الأول الأساسي</a></div>
        <div class="col"><a href="results_grade2.html" class="btn btn-primary w-100"><i class="fas fa-book me-2"></i>الثاني الأساسي</a></div>
        <div class="col"><a href="results_grade3.html" class="btn btn-primary w-100"><i class="fas fa-book me-2"></i>الثالث الأساسي</a></div>
        <div class="col"><a href="results_grade4.html" class="btn btn-primary w-100"><i class="fas fa-book me-2"></i>الرابع الأساسي</a></div>
        <div class="col"><a href="results_grade5.html" class="btn btn-primary w-100"><i class="fas fa-book me-2"></i>الخامس الأساسي</a></div>
        <div class="col"><a href="results_grade6.html" class="btn btn-primary w-100"><i class="fas fa-book me-2"></i>السادس الأساسي</a></div>
        <div class="col"><a href="results_grade7.html" class="btn btn-primary w-100"><i class="fas fa-book me-2"></i>السابع الأساسي</a></div>
        <div class="col"><a href="results_grade8.html" class="btn btn-primary w-100"><i class="fas fa-book me-2"></i>الثامن الأساسي</a></div>
        <div class="col"><a href="results_grade9.html" class="btn btn-primary w-100"><i class="fas fa-book me-2"></i>التاسع الأساسي</a></div>
        <div class="col"><a href="results_secondary.html" class="btn btn-success w-100"><i class="fas fa-graduation-cap me-2"></i>الثانوية العامة</a></div>
     
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- غياب الطلاب -->
  <section id="absence" class="fade-in">
    <div class="container">
      <h2><i class="fas fa-user-clock me-2"></i>غياب الطلاب</h2>
      <p class="text-center mb-5">يمكنك الاطلاع على عدد أيام الغياب وتاريخ الغياب للطالب من خلال هذا القسم.</p>
      <div class="text-center">
        <a href="absence_first.html" class="btn btn-primary btn-lg me-3"><i class="fas fa-calendar-alt me-2"></i> غياب النصف الأول</a>
        <a href="absence_second.html" class="btn btn-primary btn-lg"><i class="fas fa-calendar-check me-2"></i> الغياب النصف الثاني</a>
      </div>
      
      <div class="row mt-5">
        <div class="col-md-6">
          <div class="card alert-card alert-warning hover-lift">
            <div class="card-body">
              <h5 class="card-title"><i class="fas fa-exclamation-triangle me-2"></i>تنبيهات الغياب</h5>
              <ul class="list-group list-group-flush">
                <li class="list-group-item">● 3 أيام غياب: تنبيه لأولياء الأمور</li>
                <li class="list-group-item">● 5 أيام غياب: اجتماع مع ولي الأمر</li>
                <li class="list-group-item">● 10 أيام غياب: إشعار رسمي</li>
                <li class="list-group-item">● 15 يوم غياب: حرمان من الاختبارات</li>
              </ul>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="card alert-card alert-info hover-lift">
            <div class="card-body">
              <h5 class="card-title"><i class="fas fa-clock me-2"></i>إجراءات التعامل مع الغياب</h5>
              <p>تتبع المدرسة نظامًا دقيقًا لمتابعة غياب الطلاب يشمل:</p>
              <ul>
                <li>متابعة يومية لحضور الطلاب</li>
                <li>إشعار أولياء الأمور فورًا</li>
                <li>برنامج علاجي للطلاب المتغيبين</li>
                <li>تعويض الدروس للطلاب الغائبين</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- الأنشطة الدراسية -->
  <section id="activities" class="fade-in">
    <div class="container">
      <h2><i class="fas fa-trophy me-2"></i>الأنشطة الدراسية</h2>
      <p class="text-center mb-5">تعرف على الأنشطة والمسابقات التي تقيمها المدرسة لتعزيز مهارات الطلاب.</p>
      <div class="row g-4">
        <div class="col-md-4">
          <div class="card activity-card h-100">
            <img src="activity1.jpg" class="card-img-top" alt="مسابقة القرآن" onerror="this.src='https://via.placeholder.com/400x300/1a237e/ffffff?text=مسابقة+القرآن'">
            <div class="card-body">
              <h5 class="card-title">مسابقة القرآن الكريم</h5>
              <p class="card-text">مسابقة سنوية في حفظ وتلاوة القرآن الكريم مع جوائز قيمة للفائزين.</p>
              <a href="#" class="btn btn-primary"><i class="fas fa-eye me-2"></i>عرض التفاصيل</a>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card activity-card h-100">
            <img src="activity2.jpg" class="card-img-top" alt="المعرض العلمي" onerror="this.src='https://via.placeholder.com/400x300/4CAF50/ffffff?text=المعرض+العلمي'">
            <div class="card-body">
              <h5 class="card-title">المعرض العلمي السنوي</h5>
              <p class="card-text">عرض للمشاريع العلمية والإبداعية التي ينفذها الطلاب خلال العام.</p>
              <a href="#" class="btn btn-primary"><i class="fas fa-eye me-2"></i>عرض التفاصيل</a>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card activity-card h-100">
            <img src="activity3.jpg" class="card-img-top" alt="الأنشطة الرياضية" onerror="this.src='https://via.placeholder.com/400x300/2196F3/ffffff?text=الأنشطة+الرياضية'">
            <div class="card-body">
              <h5 class="card-title">البطولات الرياضية</h5>
              <p class="card-text">بطولات في كرة القدم، السلة، والرياضات المختلفة بين فصول المدرسة.</p>
              <a href="#" class="btn btn-primary"><i class="fas fa-eye me-2"></i>عرض التفاصيل</a>
            </div>
          </div>
        </div>
      </div>
      
      <div class="text-center mt-5">
        <a href="activities.html" class="btn btn-warning btn-lg"><i class="fas fa-calendar-alt me-2"></i>عرض جميع الأنشطة</a>
      </div>
    </div>
  </section>

  <!-- الأنظمة والقوانين -->
  <section id="rules" class="fade-in">
    <div class="container">
      <h2><i class="fas fa-gavel me-2"></i>الأنظمة والقوانين</h2>
      <p class="text-center mb-5">راجع لوائح المدرسة والقوانين التنظيمية التي تضمن بيئة تعليمية سليمة.</p>
      <div class="text-center mb-5">
        <button class="btn btn-danger btn-lg" id="showRulesBtn"><i class="fas fa-scroll me-2"></i>قراءة اللوائح</button>
      </div>
      <div id="rulesContent" style="display: none;">
        <h4 class="text-center mb-4">لائحة النظام الداخلي لمدارس جيل النهضة الحديثة</h4>
        <ul>
          <li>❖ الالتزام بالحضور اليومي وعدم التأخير عن الحصص الدراسية، ويغلق الباب الساعة 7:30 صباحًا.</li>
          <li>❖ احترام المعلمين والإداريين والزملاء في جميع الأوقات داخل وخارج المدرسة.</li>
          <li>❖ الحفاظ على نظافة الصف والمرافق العامة داخل المجمع والمشاركة في أنشطة النظافة.</li>
          <li>❖ يمنع استخدام الهاتف المحمول أو أي أجهزة إلكترونية أخرى أثناء الدوام الدراسي.</li>
          <li>❖ الالتزام بالزي المدرسي الرسمي كاملاً وعدم التعديل عليه أو ارتداء أي إضافات.</li>
          <li>❖ يمنع الغش في الاختبارات ويعرض الطالب للمساءلة القانونية والإدارية.</li>
          <li>❖ المحافظة على الكتب والوسائل التعليمية من التلف أو الضياع، والتعويض عن التلف.</li>
          <li>❖ يمنع مغادرة المدرسة أثناء الدوام إلا بإذن خطي من الإدارة وموافقة ولي الأمر.</li>
          <li>❖ المشاركة الإيجابية في الأنشطة المدرسية والفعاليات التربوية التي تنظمها المدرسة.</li>
          <li>❖ احترام الممتلكات العامة للمدرسة وعدم العبث بالمعدات والأثاث المدرسي.</li>
          <li>❖ الالتزام بالمواعيد الرسمية للتسليم والتسلم والاختبارات والأنشطة.</li>
          <li>❖ يمنع التدخين أو تعاطي أي مواد مضرة بالصحة داخل حرم المدرسة.</li>
          <li>❖ التواصل مع الإدارة عبر القنوات الرسمية لمعالجة أي مشكلة أو تقديم اقتراح.</li>
        </ul>
        
        <div class="mt-5">
          <h5><i class="fas fa-exclamation-circle text-danger me-2"></i>العقوبات التأديبية:</h5>
          <div class="row mt-3">
            <div class="col-md-4">
              <div class="card">
                <div class="card-body">
                  <h6>إنذار شفهي</h6>
                  <p>للحالات البسيطة والمخالفات الأولية</p>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card">
                <div class="card-body">
                  <h6>إنذار خطي</h6>
                  <p>للحالات المتكررة مع إشعار ولي الأمر</p>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card">
                <div class="card-body">
                  <h6>الحرمان من الاختبار</h6>
                  <p>للحالات المتطورة والمخالفات الجسيمة</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- موقع المجمع -->
  <section id="location" class="fade-in">
    <div class="container">
      <h2><i class="fas fa-map-marker-alt me-2"></i>موقع مدارس جيل النهضة الحديثة</h2>
      <p class="text-center mb-5">في هذا القسم يتم تحديد الموقع الجغرافي للمدارس من خلال خرائط Google.</p>
      <div class="ratio ratio-16x9 mb-5">
        <iframe 
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d240.11170911294784!2d43.95569298416377!3d15.656308499321272!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x16015b6f1740a353%3A0xf6f4f1862a61110a!2z2YXYr9in2LHYsyDYudmF2LHYp9mGINin2YTYp9mH2YTZitip!5e0!3m2!1sar!2s!4v1762272871348!5m2!1sar!2s" 
          style="border:0;" 
          allowfullscreen="" 
          loading="lazy" 
          referrerpolicy="no-referrer-when-downgrade">
        </iframe>
      </div>
      
      <div class="row mt-4">
        <div class="col-md-6">
          <div class="contact-info-card">
            <h5><i class="fas fa-info-circle me-2"></i>معلومات الاتصال</h5>
            <ul>
              <li><i class="fas fa-map-marker-alt"></i> <strong>العنوان:</strong> جمعية القشيبي ،عمران، اليمن</li>
              <li><i class="fas fa-phone"></i> <strong>الهاتف:</strong> 77    </li>
              <li><i class="fas fa-envelope"></i> <strong>البريد الإلكتروني:</strong> info@jeel-alnahdah.edu.ye</li>
              <li><i class="fas fa-clock"></i> <strong>ساعات العمل:</strong> 7:00 صباحًا - 2:00 ظهرًا</li>
              <li><i class="fas fa-fax"></i> <strong>الفاكس:</strong> 77     </li>
            </ul>
          </div>
        </div>
        <div class="col-md-6">
          <div class="contact-info-card">
            <h5><i class="fas fa-directions me-2"></i>كيفية الوصول ووسائل النقل</h5>
            <p>يمكن الوصول إلى المدارس عبر:</p>
            <ul>
              <li><i class="fas fa-bus"></i> <strong>وسائل النقل العام:</strong> الباصات المتجهة إلى منطقة المدارس</li>
              <li><i class="fas fa-taxi"></i> <strong>وسائل النقل الخاصة:</strong> الاشتراك في وسائل النقل التي توفرها المدرسة</li>
              <li><i class="fas fa-car"></i> <strong>المركبات الخاصة:</strong> مواقف سيارات متاحة داخل وخارج المجمع</li>
              <li><i class="fas fa-walking"></i> <strong>سيرًا على الأقدام:</strong> للمقيمين في المناطق القريبة</li>
            </ul>
            <p class="text-muted mt-3"><small><i class="fas fa-lightbulb me-1"></i> ننصح بالحضور قبل وقت كافٍ لتجنب الازدحام خاصة في أوقات الذروة</small></p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- الفوتر -->
  <footer class="fade-in">
    <div class="container">
      <h4 class="mb-4">مدارس جيل النهضة الحديثة</h4>
      <p>© 2026 جميع الحقوق محفوظة لمدارس جيل النهضة الحديثة.</p>
      <p>نظام النتائج الإلكتروني - الإصدار 2.0</p>
      
      <div class="footer-contact mt-4">
        <div class="contact-item">
          <i class="fas fa-phone"></i>
          <span>77   </span>
        </div>
        <div class="contact-item">
          <i class="fas fa-envelope"></i>
          <span>info@jeel-alnahdah.edu.ye</span>
        </div>
        <div class="contact-item">
          <i class="fas fa-map-marker-alt"></i>
          <span>عمران - اليمن</span>
        </div>
        <div class="contact-item">
          <i class="fas fa-clock"></i>
          <span>7:00 ص - 1:00 م</span>
        </div>
      </div>
      
      <div class="mt-4">
        <a href="#" class="text-white me-3"><i class="fab fa-facebook fa-lg"></i></a>
        <a href="#" class="text-white me-3"><i class="fab fa-twitter fa-lg"></i></a>
        <a href="#" class="text-white me-3"><i class="fab fa-instagram fa-lg"></i></a>
        <a href="#" class="text-white"><i class="fab fa-youtube fa-lg"></i></a>
      </div>
      
      <p class="mt-4 mb-0"><small>تم التطوير بواسطة <strong>فريق مدارس جيل النهضة الحديثة</strong> لتقديم أفضل الخدمات التعليمية</small></p>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
    // إدارة زر الإشعارات
    const notifyBtn = document.getElementById('notifyBtn');
    notifyBtn.style.display = 'none';

    window.OneSignalDeferred = window.OneSignalDeferred || [];
    OneSignalDeferred.push(function(OneSignal) {
      OneSignal.isPushNotificationsEnabled().then(function(isEnabled) {
        if (!isEnabled) {
          notifyBtn.style.display = 'block';
        }
      });

      notifyBtn.addEventListener('click', function () {
        OneSignal.showSlidedownPrompt().catch(function (error) {
          showMessage('error', 'حدث خطأ أثناء محاولة تفعيل الإشعارات.');
          console.error(error);
        });
      });
    });

    // إدارة زر التثبيت
    let deferredPrompt;
    let installPromptShown = false;
    const installBtn = document.getElementById('installBtn');
    const secondaryInstallBtn = document.getElementById('secondaryInstallBtn');
    const installBanner = document.getElementById('installBanner');
    const installBannerBtn = document.getElementById('installBannerBtn');
    const closeBanner = document.getElementById('closeBanner');
    const installNotification = document.getElementById('installNotification');
    const installNowBtn = document.getElementById('installNowBtn');
    const installLaterBtn = document.getElementById('installLaterBtn');

    // التحقق مما إذا كان التطبيق مثبتًا بالفعل
    function checkIfAppIsInstalled() {
      if (window.matchMedia('(display-mode: standalone)').matches) {
        console.log('✅ التطبيق مثبت بالفعل (display-mode)');
        localStorage.setItem('appInstalled', 'true');
        return true;
      }
      
      if (window.navigator.standalone === true) {
        console.log('✅ التطبيق مثبت بالفعل (navigator.standalone)');
        localStorage.setItem('appInstalled', 'true');
        return true;
      }
      
      if (localStorage.getItem('appInstalled') === 'true') {
        return true;
      }
      
      console.log('⚠️ التطبيق غير مثبت');
      localStorage.removeItem('appInstalled');
      return false;
    }

    // وظيفة لعرض الرسائل
    function showMessage(type, text) {
      const messageDiv = document.createElement('div');
      messageDiv.style.cssText = `
        position: fixed;
        top: 100px;
        left: 50%;
        transform: translateX(-50%);
        padding: 15px 25px;
        border-radius: 10px;
        color: white;
        font-weight: bold;
        z-index: 10002;
        animation: slideDownMessage 0.3s ease-out;
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        display: flex;
        align-items: center;
        gap: 10px;
        max-width: 90%;
        text-align: center;
      `;
      
      if (type === 'success') {
        messageDiv.style.background = 'linear-gradient(135deg, #4CAF50, #2E7D32)';
      } else if (type === 'error') {
        messageDiv.style.background = 'linear-gradient(135deg, #f44336, #d32f2f)';
      } else {
        messageDiv.style.background = 'linear-gradient(135deg, #2196F3, #1976D2)';
      }
      
      messageDiv.innerHTML = `
        <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
        ${text}
      `;
      
      document.body.appendChild(messageDiv);
      
      setTimeout(() => {
        messageDiv.style.animation = 'slideUpMessage 0.3s ease-out';
        setTimeout(() => {
          document.body.removeChild(messageDiv);
        }, 300);
      }, 3000);
    }

    // عرض إشعار التثبيت
    function showInstallNotification() {
      if (installPromptShown) return;
      
      installNotification.style.display = 'block';
      installNotification.style.animation = 'slideIn 0.5s ease-out';
      installPromptShown = true;
      
      setTimeout(() => {
        if (installNotification.style.display === 'block') {
          hideInstallNotification();
        }
      }, 10000);
    }

    // إخفاء إشعار التثبيت
    function hideInstallNotification() {
      installNotification.style.animation = 'slideOut 0.3s ease-out';
      setTimeout(() => {
        installNotification.style.display = 'none';
        installNotification.style.animation = '';
      }, 300);
    }

    // تثبيت التطبيق
    async function installApp() {
      if (!deferredPrompt) {
        showMessage('info', 'انتظر قليلاً...');
        return;
      }
      
      try {
        deferredPrompt.prompt();
        const { outcome } = await deferredPrompt.userChoice;
        
        if (outcome === 'accepted') {
          console.log('✅ تم قبول تثبيت التطبيق');
          localStorage.setItem('appInstalled', 'true');
          hideAllInstallButtons();
          showMessage('success', '🎉 تم تثبيت التطبيق بنجاح!');
          
          setTimeout(() => {
            showInstallSuccessModal();
          }, 1000);
        } else {
          console.log('❌ تم رفض تثبيت التطبيق');
          showMessage('info', 'يمكنك تثبيت التطبيق لاحقًا من زر التثبيت');
          localStorage.setItem('installDeclined', 'true');
        }
        
        deferredPrompt = null;
      } catch (error) {
        console.error('❌ خطأ في التثبيت:', error);
        showMessage('error', 'حدث خطأ أثناء التثبيت. حاول مرة أخرى.');
      }
    }

    // إخفاء جميع أزرار التثبيت
    function hideAllInstallButtons() {
      installBtn.style.display = 'none';
      secondaryInstallBtn.style.display = 'none';
      installBanner.style.display = 'none';
      hideInstallNotification();
    }

    // عرض نافذة نجاح التثبيت
    function showInstallSuccessModal() {
      const modal = document.createElement('div');
      modal.innerHTML = `
        <div style="
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0,0,0,0.7);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 10003;
          animation: fadeInModal 0.3s ease-out;
        ">
          <div style="
            background: white;
            border-radius: 25px;
            padding: 40px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            animation: scaleInModal 0.3s ease-out;
          ">
            <div style="font-size: 80px; color: #4CAF50; margin-bottom: 20px;">🎉</div>
            <h3 style="color: #1a237e; margin-bottom: 15px;">تم التثبيت بنجاح!</h3>
            <p style="color: #666; margin-bottom: 25px; line-height: 1.6;">
              تم تثبيت تطبيق <strong>مدارس جيل النهضة الحديثة</strong> بنجاح على جهازك.<br>
              يمكنك الآن الوصول إليه مباشرة من شاشتك الرئيسية.
            </p>
            <div style="display: flex; gap: 15px; justify-content: center; margin-top: 30px;">
              <button onclick="location.reload()" style="
                background: linear-gradient(135deg, #1a237e, #283593);
                color: white;
                border: none;
                border-radius: 25px;
                padding: 12px 30px;
                font-weight: bold;
                cursor: pointer;
                transition: all 0.3s ease;
              ">
                <i class="fas fa-rocket me-2"></i>فتح التطبيق
              </button>
              <button onclick="this.closest('div[style*=\"position: fixed\"]').remove()" style="
                background: #f5f5f5;
                color: #666;
                border: none;
                border-radius: 25px;
                padding: 12px 30px;
                font-weight: bold;
                cursor: pointer;
                transition: all 0.3s ease;
              ">
                موافق
              </button>
            </div>
          </div>
        </div>
      `;
      
      document.body.appendChild(modal);
      
      modal.addEventListener('click', (e) => {
        if (e.target === modal) {
          modal.remove();
        }
      });
    }

    // تهيئة أزرار التثبيت
    function initializeInstallButtons() {
      const isInstalled = checkIfAppIsInstalled();
      const installDeclined = localStorage.getItem('installDeclined');
      
      if (isInstalled) {
        hideAllInstallButtons();
        return;
      }
      
      // إظهار الأزرار بعد تأخير
      setTimeout(() => {
        if (!installDeclined) {
          installBtn.style.display = 'flex';
          secondaryInstallBtn.style.display = 'flex';
          
          // عرض البانر بعد 3 ثوان
          setTimeout(() => {
            if (!localStorage.getItem('bannerClosed')) {
              installBanner.style.display = 'block';
            }
          }, 3000);
          
          // عرض الإشعار بعد 8 ثوان
          setTimeout(() => {
            if (!installPromptShown) {
              showInstallNotification();
            }
          }, 8000);
        }
      }, 1000);
    }

    // استماع لحدث beforeinstallprompt
    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      console.log('🎯 حدث beforeinstallprompt متاح للتثبيت');
      
      // تهيئة الأزرار عند توفر إمكانية التثبيت
      initializeInstallButtons();
      
      // ربط أحداث النقر
      installBtn.addEventListener('click', installApp);
      secondaryInstallBtn.addEventListener('click', installApp);
      installBannerBtn.addEventListener('click', installApp);
      installNowBtn.addEventListener('click', installApp);
    });

    // حدث appinstalled
    window.addEventListener('appinstalled', () => {
      console.log('✅ حدث appinstalled: تم تثبيت التطبيق');
      localStorage.setItem('appInstalled', 'true');
      hideAllInstallButtons();
      
      setTimeout(() => {
        showInstallSuccessModal();
      }, 500);
    });

    // أحداث أخرى
    closeBanner.addEventListener('click', () => {
      installBanner.style.display = 'none';
      localStorage.setItem('bannerClosed', 'true');
    });

    installLaterBtn.addEventListener('click', () => {
      hideInstallNotification();
      localStorage.setItem('installDeclined', 'true');
    });

    // تهيئة عند تحميل الصفحة
    window.addEventListener('load', () => {
      initializeInstallButtons();
      
      // إذا كان التطبيق مثبتًا، اخفِ الأزرار
      if (checkIfAppIsInstalled()) {
        hideAllInstallButtons();
      }
      
      // معالجة الصور المفقودة
      document.querySelectorAll('img').forEach(img => {
        img.onerror = function() {
          this.style.opacity = '0.5';
        };
      });
    });

    // تحديث دوري لحالة التثبيت
    setInterval(() => {
      if (checkIfAppIsInstalled()) {
        hideAllInstallButtons();
      }
    }, 5000);

    // Service Worker للتطبيق
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/alnhdah/sw.js')
          .then(registration => {
            console.log('✅ Service Worker مسجل:', registration.scope);
          })
          .catch(error => {
            console.log('❌ فشل تسجيل Service Worker:', error);
          });
      });
    }

    // إظهار/إخفاء القوانين
    const showRulesBtn = document.getElementById("showRulesBtn");
    const rulesContent = document.getElementById("rulesContent");

    if (showRulesBtn && rulesContent) {
      showRulesBtn.addEventListener("click", function(e) {
        e.preventDefault();
        rulesContent.style.display = rulesContent.style.display === "none" ? "block" : "none";
        this.innerHTML = rulesContent.style.display === "none" ? 
          '<i class="fas fa-scroll me-2"></i>قراءة اللوائح' : 
          '<i class="fas fa-times me-2"></i>إخفاء اللوائح';
      });
    }

    // وظائف البحث والإحصائيات
    function showSearchForm() {
      const searchForm = document.getElementById('searchForm');
      searchForm.style.display = searchForm.style.display === 'none' ? 'block' : 'none';
    }

    function showStats() {
      showMessage('info', 'قريبًا: إحصائيات النتائج للفصل الدراسي الحالي');
    }

    // تفعيل التنقل السلس
    document.addEventListener('DOMContentLoaded', function() {
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          const targetId = this.getAttribute('href');
          if (targetId === '#') return;
          
          const targetElement = document.querySelector(targetId);
          if (targetElement) {
            window.scrollTo({
              top: targetElement.offsetTop - 80,
              behavior: 'smooth'
            });
          }
        });
      });
    });

    // وظيفة لإعادة تعيين التثبيت (للتجربة)
    window.resetInstall = function() {
      localStorage.removeItem('appInstalled');
      localStorage.removeItem('installDeclined');
      localStorage.removeItem('bannerClosed');
      installPromptShown = false;
      
      installBtn.style.display = 'flex';
      secondaryInstallBtn.style.display = 'flex';
      installBanner.style.display = 'block';
      installNotification.style.display = 'none';
      
      showMessage('success', 'تم إعادة تعيين إعدادات التثبيت');
      console.log('🔄 تم إعادة تعيين إعدادات التثبيت');
    };

    // أضف زر إعادة التعيين في الكونسول
    console.log('%c🔄 لإعادة تعيين التثبيت، استخدم: resetInstall()', 'color: #2196F3; font-weight: bold;');
</script>
</body>
</html>